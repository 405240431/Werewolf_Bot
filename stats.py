'''

                    -= Werewolves Data Collection Module =-

                     -= Our Lord and Saviour, The Zucc =-

@@@@@@@@@@@@@@@@@@@@@@@@@@@@%//((/((((((#((##(%&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@#///((((((////((/**/(((((((/%@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@%/((/(#(((///(/,,,***,*,***///*//@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@#*///**///*/******,......,,,*,****///(@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@(///***,*/(/*,,,,...,,*(*,.,,,,**/(*,*///#@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@#*/////*,,****,...,**//((*,,...,*/*,/*,*/*//%@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@///,,/*,,****,,..,,,.,**,,,**,,,,,,.,,,,,*//((#@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@(/*,,**,,,..****//((#####(/**/(#%#*(###(,.,***/%@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@&,*/,*/*..,****//((((###%%%%&&&&&&&&&&&&%#/**//**#@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@%,,*.//(,,*//**/((((#####%%%&&&&&&&&&&&&&&%/****//@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@#,*,,,,..*/#(#(/(((#####%%%%&&&&&&&&&&&&&&%#//****@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@%*,,,....*/((##((((##%%%%%&&&&&&&&&&&&&&&&&%#/.,,,@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@*,,.....*((%%(/****//(##%%%&&&&&&&&&&&&&&%%%(,**(@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@/*.,...,##%#**/((##(////(%%%%%%#((/((#%%%%%#*..*/#//@@@@@@@@@@@
@@@@@@@@@@@@@@@&***,.,./&%#/*****/((///**(#&&%#((((#%%&%##%#.,,,*//%@@@@@@@@@@@
@@@@@@@@@@@@@@@&,,*/**/#&%/****,*..//,***(%&&(**,,/###%%%(...,,/@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@,,**/**%%%(/(///((((((/**(#%&&&%((*.*(/#%%%(.*/,,(@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@%**,,**#%%#((###(((((/***(#%%&&#(#%&%%&&%(%##,,@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@(,,,(%#####(##%###(//***(#&%&&&&&&&&&&&&&%(/*#@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@/(#*####(((#####((/****/#&&&&&&&&&&&&&&(%%(%@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@(/((((//((###(/*****((#&&%%%%&&&&&&&&##&@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@%//((((///(((/*******/#%&&%%%#(#%&&&&&%%%&@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@&(//**//******,,,,***/(#%%%#*(#%%%%%&&@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@(/***((*********/((#%%%%%&%*/(#%##%&@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@&(/**/((/**  ******/*/((####//#%%#%&@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@&(//**/((//**,.*/#%%%%%%,/%%##%%%%&@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@&((/***/(//***//(((((((#%&&%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@&(((/***////**////((##%%&&&%%%%#%@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@((((/***/(//////(((##%%%&&%%%##&@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@(((((/////(#(######%%%&&&%%##(&@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@(((#(//////(##%%%%%&&&&&%##(#%@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@#((#((////**/##%%%&&&&%%#((%%%@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@#((##(/*******/((#####(((#%%%%&@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@%((##(/***,,,,,,,,,*/(##%%%%&%#%%(*//(%@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@%###((((/********//((##%%%%&&&&%%%%#****(//%@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@##(#((#((((/****///(((##%%%%%%%&&%%%%#********//(#@@@@@@@@@@@
@@@@@@@@@@@@((((((((//#(((//****//(((##%%%%%%%%%%%%%(**,**/****///(((&@@@@@@@
@@@@@@@@@%#(((((((///(//#(////****//((###%%%%%%%%%%%#*,,,**/***////////((((#%@@
@@@@@%#(*/((((((//**////%#///****//(((#####%%%%%%%*,,,,***/*******/////////(((#
@@@#((/////////((((((/**##(/*****///(((((######(,,,,,**/*****/////*******//////
@%((///////*****//(/((/**(((*******///((((((/,,,,,,***************,*/********//
@(/*///************//((**,*//*****/////*,,...,,,,*******,,,,,,,,,,,,,,,**/*****
%/*****/***********,,*//*,,,.   .........,,,,****,,,,,,,,,,,,,,,,,,,,*****,*//*
(,.,*****///******/*********,.......,,,,*,,,,,,,,,,,,,,,,,,,,,,,,,,,****,,,,,**
/, .,********//*********,,,,..,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,**,,,,,,,,,**
/.  .**********/*******,,,,,,,,.....,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,.,**

                  "We do not sell data to advertisers"
                  "Violating your privacy since 2004â„¢"
                             - The Zucc
'''

import json


def get_stats():
    """Returns the current stats from the file as a JSON object"""
    try:
        with open('stats.json') as f:
            return json.load(f)
    except:
        print("WARNING: Stats file is invalid! Writing a new one.")
        write_stats({})
def write_stats(stats):
    """Writes the stats to the file"""
    with open('stats.json', 'w') as outfile:
        json.dump(stats, outfile)

def reset_stats(confirm):
    """Overwrites all stats, ever"""
    if confirm:
        write_stats({})
        return True
    return False

def increment_stat(stat, amount):
    """Increments {stat} by {amount}"""
    stats = get_stats()
    try:
        stats[stat] += amount
    except:
        stats[stat] = amount
    write_stats(stats)
